(this["webpackJsonpreact-to-do-list"]=this["webpackJsonpreact-to-do-list"]||[]).push([[0],{110:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(30),s=a.n(r),i=(a(89),a(72),a(121)),o=a(122),l=a(64),d=a.n(l),j=a(79),u=a(71),b=a(70),h=a(19),O=a(116),m=a(117),x=a(115),p=a(80),f=a(120),v=a(81),g=a(65),k=a.n(g),C=a(124),y=a(119),w=a(4);function S(e){return Object(w.jsxs)(y.a,{show:e.show,onHide:e.handleClose,animation:!0,centered:!0,children:[Object(w.jsx)(y.a.Header,{closeButton:!0,children:Object(w.jsxs)(y.a.Title,{children:["Add a task to ",e.title]})}),Object(w.jsx)(y.a.Body,{children:Object(w.jsxs)(f.a,{onSubmit:e.handleSubmit,"data-nav":e.buttonNav,children:[Object(w.jsxs)(f.a.Group,{controlId:"formBasicEmail",children:[Object(w.jsx)(f.a.Label,{children:"Task Name"}),Object(w.jsx)(f.a.Control,{id:"task",type:"text",placeholder:"Enter task name",onChange:e.handleChange,value:e.task})]}),Object(w.jsxs)(f.a.Group,{controlId:"exampleForm.ControlSelect1",children:[Object(w.jsx)(f.a.Label,{children:"Select Priority"}),Object(w.jsxs)(f.a.Control,{as:"select",id:"priority",onChange:e.handleChange,value:e.priority,children:[Object(w.jsx)("option",{children:"Select Priority"}),Object(w.jsx)("option",{children:"High"}),Object(w.jsx)("option",{children:"Medium"}),Object(w.jsx)("option",{children:"Low"})]})]}),Object(w.jsx)(v.a,{variant:"primary",type:"submit",children:"Submit"})]})}),Object(w.jsx)(y.a.Footer,{children:Object(w.jsx)(v.a,{variant:"secondary",onClick:e.handleClose,children:"Close"})})]})}var T=a(123),N=a(118);function I(e){var t=c.a.forwardRef((function(e,t){var a=e.children,n=e.onClick;return Object(w.jsxs)(v.a,{className:"btn-primary-outline",ref:t,onClick:function(e){e.preventDefault(),n(e)},children:[Object(w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"black",className:"bi bi-three-dots-vertical",viewBox:"0 0 16 16",children:Object(w.jsx)("path",{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"})}),a]})})),a=e.tasks.filter((function(t){return t.parentId===e.currentId})).sort((function(e,t){return e.pNumber>t.pNumber?1:-1})).map((function(a){return Object(w.jsxs)(T.a.Item,{className:"d-flex justify-content-between align-items-center",variant:!0===a.complete?"success":"",children:[a.name,Object(w.jsx)("span",{className:"badge badge-primary badge-pill ml-auto pr-2",children:a.priority}),Object(w.jsxs)(N.a,{children:[Object(w.jsx)(N.a.Toggle,{className:"align-items-center",as:t,id:"dropdown-custom-components"}),Object(w.jsxs)(N.a.Menu,{children:[Object(w.jsx)(N.a.Item,{"data-nav":a.uniqueId,onClick:e.deleteTask,children:"Delete"}),Object(w.jsx)(N.a.Item,{"data-nav":a.uniqueId,onClick:e.markTaskComplete,children:"Mark as complete"})]})]})]},a.uniqueId)}));return Object(w.jsxs)(y.a,{show:e.show,onHide:e.handleClose,animation:!0,centered:!0,children:[Object(w.jsx)(y.a.Header,{closeButton:!0,children:Object(w.jsx)(y.a.Title,{children:"Task List"})}),Object(w.jsx)(y.a.Body,{children:a.length?Object(w.jsx)(T.a,{children:a}):Object(w.jsx)("h6",{children:"No Tasks In Project"})}),Object(w.jsx)(y.a.Footer,{children:Object(w.jsx)(v.a,{variant:"secondary",onClick:e.handleClose,children:"Close"})})]})}function F(e){var t=Object(n.useState)(!1),a=Object(h.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(""),i=Object(h.a)(s,2),o=i[0],l=i[1],d=Object(n.useState)(""),j=Object(h.a)(d,2),u=j[0],b=j[1],O=Object(n.useState)(""),m=Object(h.a)(O,2),f=m[0],g=m[1],k=function(t){var a=t.target.parentNode.parentNode.dataset.nav;b(a);var n=e.todos.filter((function(e){return e.id===a}));e.setShowTaskForm(!0),l(n[0].title)},y=function(e){var t=e.target.parentNode.parentNode.dataset.nav;g(t),r(!0)},T=e.todos.map((function(t){return Object(w.jsx)(C.a,{style:{width:"21rem"},className:"m-3 bg-white shadow-sm rounded","data-nav":t.id,children:Object(w.jsxs)(C.a.Body,{children:[Object(w.jsx)(C.a.Title,{children:t.title}),Object(w.jsx)(C.a.Text,{children:t.date}),Object(w.jsx)(v.a,{className:"mr-2",variant:"primary",onClick:k,children:"Add Task"}),Object(w.jsx)(v.a,{className:"mr-2",variant:"primary",onClick:e.deleteTodo,children:"Delete"}),Object(w.jsx)(v.a,{variant:"primary",onClick:y,children:"Show tasks"})]})},t.id)}));return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(x.a,{className:"justify-content-md-center pt-3",children:Object(w.jsx)(p.a,{md:6,className:"d-flex justify-content-center",children:Object(w.jsx)("div",{className:"text-center",children:T})})}),Object(w.jsx)(S,{show:e.showTaskForm,handleClose:e.handleTaskFormClose,title:o,handleSubmit:e.handleTaskFormSubmit,buttonNav:u,handleChange:e.handleTaskFormChange,task:e.todoTask,priority:e.priority}),Object(w.jsx)(I,{show:c,handleClose:function(){return r(!1)},currentId:f,tasks:e.tasks,deleteTask:e.deleteTask,markTaskComplete:e.markTaskComplete})]})}function D(e){return Object(w.jsxs)(f.a,{children:[Object(w.jsx)(f.a.Group,{controlId:"search",children:Object(w.jsx)(f.a.Control,{type:"text",placeholder:"Search",value:e.keyword,onChange:function(t){return e.setKeyword(t.target.value)}})}),Object(w.jsx)(v.a,{variant:"primary",type:"submit",onClick:e.searchTodos,className:"mr-1",children:"Search"}),Object(w.jsx)(v.a,{variant:"primary",onClick:e.clearSearch,children:"Clear Search"})]})}var L=a(11);a(73),a(96);var B=L.a.initializeApp({apiKey:"AIzaSyD1yMAMC-TWs1QDG0XhaVzeQ8eOD_4pvVg",authDomain:"react-to-do-22865.firebaseapp.com",projectId:"react-to-do-22865",storageBucket:"react-to-do-22865.appspot.com",messagingSenderId:"715680933684",appId:"1:715680933684:web:141a8845f6e24514a92761",databaseURL:"https://react-to-do-22865-default-rtdb.firebaseio.com/"}),P=L.a.firestore(),M=c.a.createContext(),A=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(h.a)(a,2),r=c[0],s=c[1];return Object(n.useEffect)((function(){B.auth().onAuthStateChanged(s)}),[]),Object(w.jsx)(M.Provider,{value:{user:r},children:t})};function z(){var e=Object(n.useContext)(M).user,t=Object(n.useState)([]),a=Object(h.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(""),i=Object(h.a)(s,2),o=i[0],l=i[1],g=Object(n.useState)(""),C=Object(h.a)(g,2),y=C[0],S=C[1],T=Object(n.useState)(""),N=Object(h.a)(T,2),I=N[0],L=N[1],B=Object(n.useState)(""),A=Object(h.a)(B,2),z=A[0],E=A[1],G=Object(n.useState)([]),q=Object(h.a)(G,2),H=q[0],R=q[1],K=Object(n.useState)(!1),V=Object(h.a)(K,2),J=V[0],Q=V[1],W=Object(n.useState)(""),_=Object(h.a)(W,2),U=_[0],X=_[1],Z=Object(n.useState)(!1),Y=Object(h.a)(Z,2),$=Y[0],ee=Y[1],te=Object(n.useState)([]),ae=Object(h.a)(te,2),ne=ae[0],ce=ae[1],re=Object(n.useState)(!1),se=Object(h.a)(re,2),ie=se[0],oe=se[1],le=function(){return Q(!1)};return Object(n.useEffect)((function(){function t(){return(t=Object(j.a)(d.a.mark((function t(){var a,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=7;break}return t.next=3,P.collection(e.displayName).get();case 3:a=t.sent,n=[],a.forEach((function(e){return n.push(e.data())})),r(n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()})),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(O.a,{fluid:!0,className:"bg-white p-0 m-0",children:Object(w.jsx)(m.a,{fluid:!0,children:Object(w.jsxs)(x.a,{className:"justify-content-md-center",children:[Object(w.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",children:["\xa0\xa0",Object(w.jsx)("path",{fill:"#ef476f","fill-opacity":"1",d:"M0,288L48,256C96,224,192,160,288,149.3C384,139,480,181,576,208C672,235,768,245,864,213.3C960,181,1056,107,1152,80C1248,53,1344,75,1392,85.3L1440,96L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z"})]}),Object(w.jsxs)(p.a,{md:5,children:[Object(w.jsxs)(f.a,{onSubmit:function(t){if(t.preventDefault(),o&&y){var a=k()();if(e)P.collection(e.displayName).doc(o).set({title:o,date:y,id:a});r([].concat(Object(b.a)(c),[{id:a,title:o,date:y}])),l(""),S("")}else alert("Please fill in both fields")},className:"mb-3",children:[Object(w.jsxs)(f.a.Group,{controlId:"formToDoTitle",children:[Object(w.jsx)(f.a.Label,{children:"To-Do"}),Object(w.jsx)(f.a.Control,{type:"text",placeholder:"Enter to-do",value:o,onChange:function(e){return l(e.target.value)}}),Object(w.jsx)(f.a.Text,{className:"text-muted",children:"ex: clean the house, grocery shop"})]}),Object(w.jsxs)(f.a.Group,{controlId:"formDueDate",children:[Object(w.jsx)(f.a.Label,{children:"Due Date"}),Object(w.jsx)(f.a.Control,{type:"date",value:y,onChange:function(e){return S(e.target.value)}})]}),Object(w.jsx)(v.a,{variant:"primary",type:"submit",className:"button-block mr-1",children:"Submit"}),Object(w.jsxs)(v.a,{variant:"outline-primary",className:"button-block",onClick:function(){return oe(!ie)},children:["Search List",Object(w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-search ml-2 mb-1",viewBox:"0 0 16 16",children:Object(w.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})})]})]}),ie?Object(w.jsx)(D,{keyword:U,setKeyword:X,searchTodos:function(e){e.preventDefault(),ee(!0);var t=c.filter((function(e){return e.title===U}));ce(t),console.log(U)},clearSearch:function(){ee(!1),oe(!1)}}):""]})]})})}),Object(w.jsx)(F,{todos:$?ne:c,deleteTodo:function(e){var t=e.target.parentNode.parentNode.dataset.nav,a=c.filter((function(e){return e.id!==t})),n=H.filter((function(e){return e.parentId!==t}));R(n),r(a)},handleTaskFormSubmit:function(e){if(e.preventDefault(),I&&z){var t,a=e.target.dataset.nav;"High"===z&&(t=1),"Medium"===z&&(t=2),"Low"===z&&(t=3),R([].concat(Object(b.a)(H),[{name:I,priority:z,parentId:a,uniqueId:k()(),pNumber:t,complete:!1}])),le(),L(""),E("")}else alert("Please fill in both fields")},handleTaskFormChange:function(e){"task"===e.target.id&&L(e.target.value),"priority"===e.target.id&&E(e.target.value)},todoTask:I,todoPriority:z,tasks:H,handleTaskFormClose:le,showTaskForm:J,setShowTaskForm:Q,markTaskComplete:function(e){var t=e.target.dataset.nav,a=H.map((function(e){return e.uniqueId===t?Object(u.a)(Object(u.a)({},e),{},{complete:!0}):e}));R(a)},deleteTask:function(e){var t=e.target.dataset.nav,a=H.filter((function(e){return e.uniqueId!==t}));R(a)}})]})}function E(){var e=Object(n.useContext)(M).user;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(i.a,{expand:"lg",children:[Object(w.jsx)(i.a.Brand,{bg:"dark",children:"To-Do List"}),Object(w.jsx)(i.a.Collapse,{className:"justify-content-end",children:e?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(o.a.Link,{className:"text-dark",children:e.displayName}),Object(w.jsx)(o.a.Link,{className:"text-dark",onClick:function(){return B.auth().signOut()},children:"Sign Out"})]}):Object(w.jsx)(o.a.Link,{className:"text-dark",href:"/signin",children:"Sign In"})})]}),Object(w.jsx)(z,{})]})}var G=a(63),q=a(17),H=a(69),R=a(82);function K(){var e=Object(n.useContext)(M).user,t={signInFlow:"popup",signInOptions:[H.a.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!1}}};return Object(w.jsx)("div",{children:e?Object(w.jsx)(q.a,{to:{pathname:"/"}}):Object(w.jsxs)("div",{children:[Object(w.jsx)("p",{children:"Please Sign In"}),Object(w.jsx)(R.FirebaseAuth,{uiConfig:t,firebaseAuth:H.a.auth()})]})})}var V=function(){return Object(w.jsx)(A,{children:Object(w.jsxs)(G.a,{children:[Object(w.jsx)(E,{}),Object(w.jsx)(q.d,{children:Object(w.jsx)(q.b,{path:"/signin",exact:!0,component:K})})]})})},J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,125)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(V,{})}),document.getElementById("root")),J()},72:function(e,t,a){},89:function(e,t,a){}},[[110,1,2]]]);
//# sourceMappingURL=main.d7f5097d.chunk.js.map